{
  "meta": {
    "project": "AI News Agent",
    "date": "2026-01-15",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "AI News Agent is an autonomous AI-powered platform that aggregates Pakistan news from Google News RSS, processes articles using Groq LLM with tool augmentation, and generates platform-optimized social media posts for X, Instagram, and Facebook. It offers real-time processing visibility, automation through auto-run timers, and user-friendly interfaces for news feeding, AI processing, and post management.",
  "core_goals": [
    "Aggregate Pakistan-specific news articles from Google News RSS feeds efficiently and ensure data freshness through configurable filters.",
    "Process news articles with AI using Groq LLM and multiple integrated tools (Jina AI, Serper API, Pinecone vector DB) to generate high-quality social media posts customized for multiple platforms.",
    "Provide automation features including auto-refresh for news fetching and auto-run timers for AI processing to maintain up-to-date content generation with minimal manual intervention.",
    "Allow users to view, manage, and delete generated social media posts with platform-specific preview cards and easy controls.",
    "Maintain a robust backend with real-time database updates, deduplication of news entries, tiered AI content generation, and a rich activity log streamed live to the UI."
  ],
  "key_features": [
    "News Feeder System: Fetches news via Google News RSS with support for freshness filtering (1h to 24h), deduplication by hash, auto-refresh with selectable intervals (5m to 1h), and retention limits (50 to 500 articles).",
    "AI Agent Processing: Uses Groq LLM models with tool augmentation (read_article via Jina AI, search_web and search_news via Serper API, and Pinecone vector search for memory) to generate social media posts in a 4-tiered system based on tool usage and fallback mechanism.",
    "Auto-Run Timer & Preview Queue: Configurable agent automation timer ranging from 15 minutes to 4 hours with countdown UI and preview of upcoming articles before processing.",
    "Posts Management: Displays generated posts with platform-specific styled preview cards for X, Instagram, and Facebook, supports one-click copy and bulk delete with confirmation modal.",
    "Theme Toggle: Dark/light mode toggle leveraging next-themes for a comfortable user experience.",
    "Real-Time Activity Log: Streams detailed agent activity and processing status to the UI in real-time for user transparency.",
    "Supabase PostgreSQL Integration: Robust backend storage with database schema for news_items, feeder_settings, agent_settings, runs, activity logs, and post queues.",
    "Comprehensive API support for all features including fetching, updating settings, controlling agent actions, and managing posts."
  ],
  "user_flow_summary": [
    "User accesses the Feeder UI to configure settings such as refresh interval, freshness hours, and retention limit, and can manually trigger news refresh. The system fetches and deduplicates news articles, then stores them in the database.",
    "Agent automation runs based on configured timer or manual start, processing batches of news articles through LLM and tools to generate social media posts. Progress and activities are streamed in real-time to the UI.",
    "Upon successful generation, posts are stored linked to news items and flagged as posted. Users can view these posts in the Posts UI, which displays social media preview cards optimized for each platform with copy and delete options.",
    "User can edit feeder or agent settings from respective UI components, toggle themes, and control the agent (start/cancel runs).",
    "Admin can delete all posts with confirmation, resetting post states and cleaning agent queues.",
    "Throughout all flows, backend APIs handle data persistence, business logic, and provide real-time synchronization with the frontend."
  ],
  "validation_criteria": [
    "RSS feed correctly fetches news articles from the specified Pakistan Google News feed URL with freshness filtering applied as configured.",
    "Deduplication accurately identifies and excludes duplicate articles based on SHA-256 hash of normalized title and source name.",
    "Auto-refresh timer triggers news fetch as per user-selected intervals and respects active/inactive status.",
    "Agent processing correctly applies tiered logic: generates posts with zero, one, or multiple tools as per article complexity and correctly falls back on failures.",
    "Generated social media posts meet platform-specific character limits and format requirements, including hashtags, emojis, and engagement questions.",
    "Real-time activity logs are streamed accurately to the UI during agent runs, reflecting all tool calls and states.",
    "Auto-run timer functions with correct interval selection, countdown display, and triggers agent start appropriately.",
    "Posts management UI allows seamless viewing, one-click copying, and bulk deletion with confirmation modal.",
    "Database updates (news_items, agent_queue, agent_runs, feeder_settings) perform atomically and accurately reflect UI state.",
    "API endpoints respond with correct success status and handle error states gracefully."
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "Next.js 14",
      "React 18",
      "Tailwind CSS",
      "Shadcn/ui",
      "Supabase (PostgreSQL)",
      "Groq LLM",
      "Pinecone Vector DB",
      "Jina AI",
      "Serper API"
    ],
    "features": [
      {
        "name": "News Feeder",
        "description": "Fetches Pakistan news from Google News RSS, handles deduplication, auto-refresh, freshness filtering, and retention limits",
        "files": [
          "app/feeder/page.tsx",
          "app/feeder/components/FeedList.tsx",
          "app/feeder/components/FeedSettings.tsx",
          "app/feeder/components/FetchHistory.tsx",
          "app/api/feeder/route.ts",
          "app/api/feeder/settings/route.ts",
          "lib/feed-store.ts",
          "lib/rss-parser.ts",
          "lib/deduplication.ts"
        ]
      },
      {
        "name": "AI Agent",
        "description": "Processes news articles through Groq LLM with tool augmentation (Jina, Serper, Pinecone) to generate social media posts",
        "files": [
          "app/agent/page.tsx",
          "app/api/agent/route.ts",
          "lib/agent/index.ts",
          "lib/agent/store.ts",
          "lib/agent/types.ts",
          "lib/agent/tools/langchain-tools.ts",
          "lib/agent/tools/jina-reader.ts",
          "lib/agent/tools/serper-search.ts"
        ]
      },
      {
        "name": "Posts Management",
        "description": "Displays generated social media posts with platform-specific preview cards (X, Instagram, Facebook) and delete functionality",
        "files": [
          "app/posts/page.tsx",
          "app/api/posts/route.ts"
        ]
      },
      {
        "name": "Agent Automation",
        "description": "Auto-run timer with countdown, interval selection (15m-4h), and preview queue showing upcoming articles",
        "files": [
          "app/agent/page.tsx"
        ]
      },
      {
        "name": "Theme Toggle",
        "description": "Dark/light mode toggle using next-themes",
        "files": [
          "components/theme-toggle.tsx",
          "components/theme-provider.tsx"
        ]
      },
      {
        "name": "Supabase Integration",
        "description": "Database client for PostgreSQL operations",
        "files": [
          "lib/supabase.ts"
        ]
      },
      {
        "name": "UI Components",
        "description": "Shadcn/ui components including Card, Button, Select, Badge, Switch",
        "files": [
          "components/ui/card.tsx",
          "components/ui/button.tsx",
          "components/ui/select.tsx",
          "components/ui/badge.tsx",
          "components/ui/switch.tsx"
        ]
      }
    ]
  }
}
